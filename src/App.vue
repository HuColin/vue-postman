<template>
  <div id="app">
    <form>

      <div class="form-group">
        <label>Address</label>
        <input type="text" class="form-control" v-model="VPM.url">
      </div>

      <div class="form-group">
        <label>Headers</label>
        <textarea class="form-control" v-model="VPM.headers"></textarea>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input type="text" class="form-control" v-model="VPM.token_name" placeholder="Token Name">
          <span class="input-group-addon" @click="getTokenFromLocalStorage">Get it!</span>
        </div>
        <textarea class="form-control">{{ VPM.token }}</textarea>
      </div>


      <div class="form-group">
        <label>Data</label>
        <textarea class="form-control" v-model="VPM.data"></textarea>
      </div>

      <div class="form-group">
        <button v-for="item in methods" class="btn" v-bind:class="[item.class]" @click="send(item.name)">{{item.name}}</button>
        
        <!--<button class="btn btn-default" @click="send(1)">GET</button>
        <button class="btn btn-primary"  @click="send(2)">POST</button>
        <button class="btn btn-success" @click="send(3)">PUT</button>
        <button class="btn btn-info" @click="send(4)">PATCH</button>
        <button class="btn btn-danger" @click="send(5)">DELETE</button>-->
      </div>

      <div class="form-group">
        <label>Status <span class="">{{ VPM.status }}</span></label>
      </div>

      <div class="form-group">
        <label>Content</label>
        <textarea class="form-control" rows="5">{{ VPM.content }}</textarea>
      </div>
    </form>
  </div>
</template>

<script>
  // import Hello from './components/Hello'
  // import Home from './components/Home'

  export default {
    data () {
      let token = window.localStorage.token
      return {
        VPM: {
          content: 'test',
          status: '000',
          token_name: 'token',
          token: token
        },
        methods: [{
          'name': 'GET',
          'class': 'btn-default'
        }, {
          'name': 'POST',
          'class': 'btn-primary'
        }, {
          'name': 'PUT',
          'class': 'btn-success'
        }, {
          'name': 'PATCH',
          'class': 'btn-info'
        }, {
          'name': 'DELETE',
          'class': 'btn-danger'
        }]
      }
    },
    methods: {
      getTokenFromLocalStorage: function () {
        var tokenName = this.VPM.token_name
//        this.$set('VPM.token', window.localStorage[tokenName])
        this.VPM.token = window.localStorage[tokenName]
      },
      sentRequest: function () {
        //
      },
      send: function (method) {
        console.log(method)
      }
    }
  }
</script>

<style>
  /*html {
  height: 100%;
  }

  body {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  }

  #app {
  color: #2c3e50;
  margin-top: -100px;
  max-width: 600px;
  font-family: Source Sans Pro, Helvetica, sans-serif;
  text-align: center;
  }

  #app a {
  color: #42b983;
  text-decoration: none;
  }

  .logo {
  width: 100px;
  height: 100px
  }*/
</style>
